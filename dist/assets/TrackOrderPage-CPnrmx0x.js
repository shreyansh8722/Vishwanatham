import{j as e,r as g,k as h}from"./ui-vendor-DvYRwaTC.js";import{r as d}from"./react-vendor-BrYn47dg.js";import{N as p,F as b}from"./Footer-BU4Q99GI.js";import{d as f}from"./index-BaMFXKro.js";import{d as j,c as N}from"./firebase-vendor-ChDbu2GB.js";const y=({status:t})=>{const a=["Pending","Shipped","Delivered"],s=a.indexOf(t);return t==="Cancelled"?e.jsx("div",{className:"text-red-500 font-bold text-center mt-6 bg-red-50 p-3 rounded",children:"This order has been cancelled."}):e.jsxs("div",{className:"mt-8 relative",children:[e.jsx("div",{className:"absolute top-1/2 left-0 w-full h-1 bg-gray-200 -z-10 -translate-y-1/2"}),e.jsx("div",{className:"absolute top-1/2 left-0 h-1 bg-green-500 -z-10 -translate-y-1/2 transition-all duration-700",style:{width:`${s/(a.length-1)*100}%`}}),e.jsx("div",{className:"flex justify-between",children:a.map((l,n)=>{const r=n<=s;return e.jsxs("div",{className:"flex flex-col items-center bg-white px-2",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 ${r?"bg-green-500 border-green-500 text-white":"bg-white border-gray-300 text-gray-300"}`,children:r?e.jsx(h,{size:16}):n+1}),e.jsx("span",{className:`text-xs font-bold uppercase mt-2 ${r?"text-green-600":"text-gray-400"}`,children:l})]},l)})})]})};function O(){const[t,a]=d.useState(""),[s,l]=d.useState(null),[n,r]=d.useState(!1),[x,i]=d.useState(""),u=async c=>{if(c.preventDefault(),!!t){r(!0),i(""),l(null);try{const m=j(f,"orders",t.trim()),o=await N(m);o.exists()?l({id:o.id,...o.data()}):i("Order ID not found. Please check your email for the correct ID.")}catch{i("Something went wrong. Please try again.")}finally{r(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col font-sans",children:[e.jsx(p,{}),e.jsx("div",{className:"flex-grow flex items-center justify-center py-12 px-4",children:e.jsxs("div",{className:"w-full max-w-lg",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"font-serif text-3xl text-gray-900 mb-2",children:"Track Your Order"}),e.jsx("p",{className:"text-gray-500",children:"Enter your Order ID to see real-time status."})]}),e.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg border border-gray-100",children:[e.jsxs("form",{onSubmit:u,className:"flex gap-2 mb-6",children:[e.jsx("input",{placeholder:"e.g. 172345...",className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 outline-none focus:border-[#B08D55] focus:ring-1 focus:ring-[#B08D55]",value:t,onChange:c=>a(c.target.value)}),e.jsx("button",{type:"submit",disabled:n,className:"bg-[#1A1A1A] text-white px-6 py-3 rounded-lg font-bold uppercase tracking-wider hover:bg-black transition-all",children:n?"...":"Track"})]}),x&&e.jsxs("div",{className:"flex items-center gap-3 bg-red-50 text-red-600 p-4 rounded-lg text-sm",children:[e.jsx(g,{size:20})," ",x]}),s&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4",children:[e.jsxs("div",{className:"border-b border-gray-100 pb-4 mb-4",children:[e.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-widest mb-1",children:"Status"}),e.jsx("h2",{className:"text-2xl font-bold text-[#B08D55]",children:s.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400",children:"Order Date"}),e.jsx("p",{className:"text-sm font-medium",children:new Date(s.createdAt.seconds*1e3).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400",children:"Total Amount"}),e.jsxs("p",{className:"text-sm font-medium",children:["â‚¹",s.totalAmount]})]})]}),e.jsx(y,{status:s.status}),s.tracking&&s.status==="Shipped"&&e.jsxs("div",{className:"mt-8 bg-blue-50 p-4 rounded-lg border border-blue-100",children:[e.jsx("p",{className:"text-xs font-bold text-blue-500 uppercase mb-2",children:"Shipment Details"}),e.jsx("p",{className:"text-sm text-blue-900 font-medium",children:s.tracking.courier}),e.jsxs("p",{className:"text-sm text-blue-900",children:["AWB: ",e.jsx("span",{className:"font-mono font-bold",children:s.tracking.trackingId})]})]})]})]})]})}),e.jsx(b,{})]})}export{O as default};
