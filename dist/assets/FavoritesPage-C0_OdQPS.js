import{j as e,a as N,b as y,H as w}from"./ui-vendor-DvYRwaTC.js";import{b as C,r as o}from"./react-vendor-BrYn47dg.js";import{r as k,q as F,l as P,w as S,F as E}from"./firebase-vendor-ChDbu2GB.js";import{b as L,a as A,C as T,d as q}from"./index-BaMFXKro.js";import{u as z,N as D,F as M}from"./Footer-BU4Q99GI.js";import{P as H}from"./ProductCard-DiMwfbc_.js";function J(){const{user:h}=L(),{favorites:a,toggleFavorite:g,loading:i}=z(),{addToCart:p}=A(),l=C(),[c,d]=o.useState([]),[f,n]=o.useState(!0),[u,x]=o.useState(!1);o.useEffect(()=>{if(i)return;if(a.length===0){d([]),n(!1);return}(async()=>{n(!0);try{const r=[];for(let t=0;t<a.length;t+=10)r.push(a.slice(t,t+10));const v=r.map(t=>k(F(P(q,"products"),S(E(),"in",t)))),j=(await Promise.all(v)).flatMap(t=>t.docs.map(m=>({id:m.id,...m.data()})));d(j)}catch(r){console.error("Error loading wishlist products:",r)}finally{n(!1)}})()},[a,i]);const b=s=>{p({...s,quantity:1}),x(!0)};return i||f&&a.length>0?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsx(N,{className:"animate-spin text-heritage-gold",size:32})}):e.jsxs("div",{className:"min-h-screen bg-white font-serif text-heritage-charcoal flex flex-col",children:[e.jsx(D,{}),e.jsxs("div",{className:"flex-grow max-w-[1600px] mx-auto px-4 md:px-12 py-12 md:py-16 w-full pt-24 md:pt-32",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center md:items-end mb-8 md:mb-16 border-b border-gray-100 pb-8 gap-4",children:[e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("span",{className:"text-[10px] md:text-xs font-bold font-sans uppercase tracking-[0.2em] text-heritage-grey mb-2 block",children:"My Collection"}),e.jsx("h1",{className:"text-3xl md:text-5xl italic font-light text-heritage-charcoal",children:"Wishlist"})]}),e.jsxs("button",{onClick:()=>l("/shop"),className:"hidden md:flex items-center gap-2 text-xs font-bold text-heritage-gold uppercase tracking-widest hover:text-black transition-colors",children:["Continue Shopping ",e.jsx(y,{size:14})]})]}),h?c.length===0?e.jsxs("div",{className:"text-center py-24",children:[e.jsx(w,{size:32,className:"mx-auto text-gray-200 mb-4",strokeWidth:1}),e.jsx("h3",{className:"text-2xl md:text-3xl font-serif italic text-heritage-charcoal mb-4",children:"Your wishlist is empty."}),e.jsx("p",{className:"font-sans text-sm text-heritage-grey mb-8 px-8",children:"Save items you love here to review them later."}),e.jsx("button",{onClick:()=>l("/shop"),className:"border-b border-heritage-charcoal pb-1 text-xs font-bold uppercase tracking-widest hover:text-heritage-gold hover:border-heritage-gold transition-colors font-sans",children:"Start Exploring"})]}):e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-x-3 gap-y-8 md:gap-x-6 md:gap-y-12",children:c.map(s=>e.jsx("div",{className:"flex flex-col gap-3 group",children:e.jsx(H,{item:s,onAddToCart:()=>b(s),isFavorite:!0,onToggleFavorite:g})},s.id))}):e.jsxs("div",{className:"py-24 text-center bg-heritage-sand/30 rounded-sm mx-4",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-serif italic mb-2",children:"Please Login"}),e.jsx("p",{className:"font-sans text-sm text-heritage-grey mb-6",children:"Sign in to view your saved masterpieces."}),e.jsx("button",{onClick:()=>l("/login"),className:"bg-heritage-charcoal text-white px-8 py-3 text-xs font-bold uppercase tracking-widest hover:bg-heritage-gold transition-colors",children:"Login Now"})]})]}),e.jsx(M,{}),e.jsx(T,{open:u,onClose:()=>x(!1)})]})}export{J as default};
